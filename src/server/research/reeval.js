const resultsInitial = [
  [1034280, 251, 31],
  [395580, 95, 18],
  [833600, 188, 24],
  [461700, 112, 18],
  [1109820, 251, 31],
  [1019400, 231, 29],
  [620100, 137, 19],
  [909860, 265, 32],
  [573040, 127, 18],
  [911980, 233, 29],
  [1006040, 208, 26],
  [877700, 241, 30],
  [218880, 52, 18],
  [1025400, 243, 30],
  [121600, 29, 18],
  [659220, 168, 22],
  [720980, 170, 23],
  [291840, 69, 18],
  [877800, 240, 30],
  [863900, 258, 31],
  [713640, 220, 28],
  [1081840, 261, 32],
  [1060980, 258, 31],
  [521540, 133, 19],
  [121600, 30, 18],
  [896060, 204, 26],
  [827080, 204, 26],
  [832680, 210, 27],
  [1123860, 243, 30],
  [890000, 231, 29],
  [953060, 231, 29],
  [618720, 149, 20],
  [939840, 249, 30],
  [928620, 232, 29],
  [352640, 93, 18],
  [850040, 231, 29],
  [1012200, 242, 30],
  [898680, 234, 29],
  [917620, 251, 31],
  [821000, 208, 26],
  [956420, 247, 30],
  [146300, 36, 18],
  [684800, 233, 29],
  [1079180, 242, 30],
  [1042060, 238, 29],
  [501600, 127, 18],
  [897180, 260, 32],
  [1146360, 277, 33],
  [997500, 230, 29],
  [898220, 249, 30],
];

const resultsNeg2 = [
  [715420, 188, 24],
  [640440, 152, 21],
  [1009240, 248, 30],
  [1079120, 236, 29],
  [591240, 162, 22],
  [869800, 230, 29],
  [961660, 243, 30],
  [1065580, 234, 29],
  [504460, 141, 20],
  [910880, 238, 29],
  [983600, 232, 29],
  [976320, 232, 29],
  [1086620, 248, 30],
  [626380, 137, 19],
  [731720, 233, 29],
  [987040, 231, 29],
  [917480, 252, 31],
  [1123260, 234, 29],
  [1004600, 258, 31],
  [935080, 230, 29],
  [795000, 277, 33],
  [119700, 67, 18],
  [1126940, 249, 30],
  [922400, 257, 31],
  [407240, 147, 20],
  [723880, 185, 24],
  [1083160, 237, 29],
  [1001660, 248, 30],
  [908640, 241, 30],
  [980440, 250, 31],
  [921260, 243, 30],
  [528860, 136, 19],
  [1043340, 232, 29],
  [829600, 198, 25],
  [657220, 170, 23],
  [887140, 239, 29],
  [993760, 238, 29],
  [997380, 230, 29],
  [767260, 204, 26],
  [1037180, 232, 29],
  [939900, 246, 30],
  [871320, 231, 29],
  [955260, 252, 31],
  [1034040, 231, 29],
  [743560, 241, 30],
  [1045760, 266, 32],
  [883220, 237, 29],
  [1029760, 236, 29],
  [917020, 257, 31],
  [529440, 133, 19],
];

const resultsNeg1 = [
  [897760, 218, 27],
  [1049100, 245, 30],
  [1052260, 252, 31],
  [507440, 139, 19],
  [391840, 148, 20],
  [311220, 66, 18],
  [1050760, 264, 32],
  [594700, 148, 20],
  [1130600, 249, 30],
  [1016200, 247, 30],
  [53200, 18, 18],
  [7980, 10, 18],
  [849820, 232, 29],
  [921660, 238, 29],
  [1047240, 230, 29],
  [847400, 231, 29],
  [724960, 191, 25],
  [694440, 183, 24],
  [1095500, 234, 29],
  [941660, 231, 29],
  [848700, 190, 25],
  [83220, 31, 18],
  [963480, 231, 29],
  [598020, 149, 20],
  [1025520, 232, 29],
  [929360, 232, 29],
  [437380, 117, 18],
  [1056640, 234, 29],
  [1053620, 244, 30],
  [456960, 138, 19],
  [855160, 207, 26],
  [531440, 141, 20],
  [526300, 119, 18],
  [328320, 66, 18],
  [920300, 254, 31],
  [1003240, 233, 29],
  [908540, 239, 29],
  [758360, 240, 30],
  [1066160, 232, 29],
  [784600, 209, 26],
  [919560, 233, 29],
  [1067000, 234, 29],
  [1053040, 241, 30],
  [199500, 49, 18],
  [715620, 164, 22],
  [957900, 215, 27],
  [746020, 234, 29],
  [1026200, 262, 32],
  [963020, 263, 32],
  [935360, 234, 29],
];

const results0 = [
  [113620, 40, 18],
  [956940, 233, 29],
  [1023440, 253, 31],
  [1520, 2, 18],
  [1067800, 239, 29],
  [863940, 247, 30],
  [949380, 232, 29],
  [623000, 150, 21],
  [1031740, 242, 30],
  [841340, 241, 30],
  [574020, 177, 23],
  [1130720, 234, 29],
  [542200, 163, 22],
  [1091480, 248, 30],
  [1015260, 248, 30],
  [1034800, 232, 29],
  [1110100, 256, 31],
  [994660, 253, 31],
  [1007400, 247, 30],
  [843400, 275, 33],
  [859960, 242, 30],
  [966000, 247, 30],
  [1055500, 233, 29],
  [959900, 238, 29],
  [1032000, 259, 31],
  [796000, 197, 25],
  [780360, 243, 30],
  [337440, 79, 18],
  [1069700, 243, 30],
  [963580, 234, 29],
  [964740, 242, 30],
  [825940, 239, 29],
  [699320, 233, 29],
  [876520, 240, 30],
  [911800, 239, 29],
  [689520, 169, 22],
  [665480, 169, 22],
  [933960, 231, 29],
  [798980, 197, 25],
  [922780, 233, 29],
  [875440, 235, 29],
  [1046720, 243, 30],
  [1129840, 235, 29],
  [1126980, 241, 30],
  [344280, 124, 18],
  [873960, 230, 29],
  [1066240, 230, 29],
  [1005360, 284, 34],
  [858400, 273, 33],
  [809760, 230, 29],
];

const results1 = [
  [1040680, 232, 29],
  [908320, 248, 30],
  [869760, 231, 29],
  [921140, 265, 32],
  [1023580, 266, 32],
  [814980, 251, 31],
  [412680, 99, 18],
  [1001200, 262, 32],
  [905720, 244, 30],
  [1097660, 286, 34],
  [761020, 193, 25],
  [982400, 247, 30],
  [1108940, 242, 30],
  [1126980, 264, 32],
  [799700, 203, 26],
  [600580, 148, 20],
  [655680, 144, 20],
  [971680, 235, 29],
  [167580, 112, 18],
  [189240, 64, 18],
  [1070920, 239, 29],
  [555800, 233, 29],
  [999000, 245, 30],
  [789700, 196, 25],
  [863700, 251, 31],
  [791740, 177, 23],
  [798840, 188, 24],
  [990780, 260, 32],
  [915340, 240, 30],
  [816860, 252, 31],
  [976060, 257, 31],
  [305900, 64, 18],
  [1000220, 232, 29],
  [1119540, 259, 31],
  [921080, 273, 33],
  [877960, 259, 31],
  [349980, 89, 18],
  [1033640, 235, 29],
  [1188620, 275, 33],
  [787400, 234, 29],
  [666600, 142, 20],
  [427880, 121, 18],
  [943960, 258, 31],
  [921700, 236, 29],
  [903660, 259, 31],
  [909720, 231, 29],
  [1133880, 240, 30],
  [895060, 234, 29],
  [997100, 236, 29],
  [1087220, 239, 29],
];

const results2 = [
  [900480, 258, 31],
  [167960, 55, 18],
  [1033260, 243, 30],
  [618700, 183, 24],
  [1049420, 232, 29],
  [903840, 258, 31],
  [143640, 33, 18],
  [984840, 249, 30],
  [874560, 234, 29],
  [1142360, 242, 30],
  [1098240, 260, 32],
  [726080, 174, 23],
  [858620, 193, 25],
  [914460, 234, 29],
  [1046120, 243, 30],
  [948700, 245, 30],
  [980300, 239, 29],
  [595680, 161, 22],
  [368220, 111, 18],
  [1066100, 270, 33],
  [1020020, 271, 33],
  [886100, 253, 31],
  [1098560, 232, 29],
  [801740, 231, 29],
  [1065600, 246, 30],
  [860620, 253, 31],
  [1063520, 246, 30],
  [965320, 248, 30],
  [906660, 202, 26],
  [913940, 251, 31],
  [845860, 249, 30],
  [580780, 135, 19],
  [678000, 156, 21],
  [1111060, 233, 29],
  [993320, 233, 29],
  [808640, 237, 29],
  [948100, 244, 30],
  [891000, 230, 29],
  [957540, 250, 31],
  [925140, 232, 29],
  [1078240, 246, 30],
  [975300, 280, 34],
  [405840, 102, 18],
  [1004520, 247, 30],
  [997740, 244, 30],
  [886160, 218, 27],
  [987000, 259, 31],
  [861560, 191, 25],
  [527160, 174, 23],
  [1122740, 231, 29],
];

function mean(list) {
  let total = 0;
  for (const elt of list) {
    total += elt;
  }
  return total / list.length;
}

function modifiedFitness(resultArray) {
  const sortedScores = resultArray
    .map(([score, lines, level]) => parseInt(score))
    .sort((a, b) => a - b);
  return sortedScores[Math.floor(resultArray.length / 2)];

  // // Get the middle half of the scores
  // const subArray = sortedScores.slice(len / 4, (2 * len) / 4);
  // return mean(subArray);
}

function originalFitness(resultArray) {
  const sortedScores = resultArray
    .map(([score, lines, level]) => parseInt(score))
    .sort((a, b) => a - b);
  return mean(sortedScores);
}

[resultsNeg2, resultsNeg1, results0, results1, results2].forEach((result) => {
  console.log(
    `Initial: ${originalFitness(result)}, Modified: ${modifiedFitness(result)}`
  );
});
